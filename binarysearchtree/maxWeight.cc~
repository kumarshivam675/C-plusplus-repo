#include<iostream>
#include<climits>
#include<malloc.h>

using namespace std;

struct Node{
	int data;
	Node* left;
	Node* right;
};

Node* createNode(int key){
	struct Node* node = (Node*)malloc(sizeof(Node));
	node->data = key;
	node->left = NULL;
	node->right = NULL;
	return node;
}

void Inorder(struct Node* node){
	if(node == NULL)
		return ;
	Inorder(node->left);
	cout << node->data << endl;
	Inorder(node->right);
}

int findMaxWeight(struct Node* node, int& max){
	//cout << "hello\n";
	if(node == NULL)
		return 0;
	int lvalue = findMaxWeight(node->left,max);
	int rvalue = findMaxWeight(node->right,max);
	
	if(node->data+lvalue+rvalue > max)
		max = node->data+lvalue+rvalue;
		
	return node->data+lvalue+rvalue;
}

int main(){
	struct Node *root;
	int max = INT_MIN;
	root = createNode(3);
	root->left = createNode(4);
	root->left->left = createNode(5);
	root->left->right = createNode(-2);
	root->right = createNode(-1);
	root->right->left = createNode(8);
	root->right->right = createNode(9);
	//Inorder(root);
	findMaxWeight(root,max);
	cout << max << endl;
	return 0;
}
